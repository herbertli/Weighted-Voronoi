{"version":3,"sources":["components/CustomSnackbar.jsx","components/GameOver.jsx","components/RoundOver.jsx","components/Scoreboard.jsx","utils.js","components/Board.jsx","components/GameStart.jsx","components/PlayerInfo.jsx","components/HelpModal.jsx","components/WeightSelectionModal.jsx","App.js","serviceWorker.js","index.js"],"names":["variantIcon","success","CheckCircleIcon","warning","WarningIcon","error","ErrorIcon","info","InfoIcon","withStyles","theme","backgroundColor","green","palette","dark","primary","amber","icon","fontSize","iconVariant","opacity","marginRight","spacing","unit","message","display","alignItems","props","classes","className","onClose","variant","other","Object","objectWithoutProperties","Icon","react_default","a","createElement","SnackbarContent_default","assign","classNames","aria-describedby","id","action","IconButton_default","key","aria-label","color","close","onClick","Close_default","button","margin","grid","playersList","handleClick","add","b","total","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","player","value","scores","reduce","err","return","winners","winnerScore","rows","map","i","playerTotal","push","name","percentage","toFixed","totalScore","Grid_default","container","justify","item","xs","Typography_default","gutterBottom","style","textAlign","length","join","Table_default","padding","TableHead_default","TableRow_default","TableCell_default","numeric","TableBody_default","row","component","scope","background","Button_default","RoundOver","saveBoard","link","document","canvas","getElementById","href","toDataURL","download","click","_this$props","this","roundNum","numPlayers","React","Component","Scoreboard","numStones","score","percentages","e","weightRemaining","stonesRemaining","piecesPlaced","selected","currentPlayer","colors","colorRGB","checkValid","nx","ny","piecesList","minDist","piece","x","y","Math","pow","calculateBoard","width","height","owners","influences","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","pieceInfluence","weight","playerInd","maxInfluence","max","apply","indexOf","Board","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","event","rect","current","getBoundingClientRect","clientX","left","clientY","top","handleCanvasClick","handleHover","ctx","hoverCanvas","getContext","clearCanvas","isValid","r","g","beginPath","arc","PI","fillStyle","concat","fill","lineWidth","strokeStyle","stroke","createRef","_this$props2","newPiece","drawBoard","drawStones","_this$props3","htx","nextProps","clearRect","_piecesList$b","imageData","getImageData","data","index","owner","gridColor","putImageData","_this2","parentDiv","pCanvas","ref","hCanvas","onMouseMove","position","border","zIndex","GameStart","handleChange","_this$setState","validateState","defineProperty","target","propName","setState","handleSubmit","_this$validateState2","state","showErrorPlayers","showErrorStones","showErrorGrav","showErrorDist","_this$state","gravPer","newOptions","parseInt","nNum","nStone","nGrav","nDist","isNaN","Number","isInteger","_this$state2","Paper_default","root","elevation","direction","TextField_default","label","onChange","objectSpread","mixins","gutters","paddingTop","paddingBottom","Transition","Slide_default","Text","children","LText","HelpModal_Text","marginTop","screenImg","gameoverImg","Dialog_default","open","handleClose","scroll","aria-labelledby","TransitionComponent","DialogContent_default","paragraph","src","alt","HelpModal_LText","WeightModal","showErrorWeight","selectedWeight","nWeight","prevProps","DialogTitle_default","DialogContentText_default","DialogActions_default","handleCancel","App","initialState","stage","isPlaying","initialRound","displayHelpBox","showWeightOverlay","snackOpen","createNewPlayer","createNewPiece","ind","newStage","newPlayers","handlePlayerChange","toConsumableArray","handleBoardClick","getValidPlayer","newPlayer","handleWeightSelection","_this$state3","newPieces","nextPlayer","cancelWeightSelection","console","log","closeHelpModal","renderOverlay","_this$state4","components_GameStart","components_PlayerInfo","resetGame","resetRound","_this$state5","handleSnackClose","reason","renderGame","_this$state6","_calculateBoard","Fragment","sm","md","components_Board","components_GameOver","lastScores","components_Scoreboard","components_RoundOver","_this$state7","HelpOutline_default","renderScene","components_HelpModal","WeightSelectionModal","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","CustomSnackbar","Boolean","window","location","hostname","match","ReactDOM","render","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"0eAaMA,EAAc,CAClBC,QAASC,IACTC,QAASC,IACTC,MAAOC,IACPC,KAAMC,KA2DOC,2BAxDA,SAAAC,GAAK,MAAK,CACvBT,QAAS,CACPU,gBAAiBC,IAAM,MAEzBP,MAAO,CACLM,gBAAiBD,EAAMG,QAAQR,MAAMS,MAEvCP,KAAM,CACJI,gBAAiBD,EAAMG,QAAQE,QAAQD,MAEzCX,QAAS,CACPQ,gBAAiBK,IAAM,MAEzBC,KAAM,CACJC,SAAU,IAEZC,YAAa,CACXC,QAAS,GACTC,YAAaX,EAAMY,QAAQC,MAE7BC,QAAS,CACPC,QAAS,OACTC,WAAY,YAkCDjB,CA9Bf,SAA2BkB,GAAO,IACxBC,EAA4DD,EAA5DC,QAASC,EAAmDF,EAAnDE,UAAWL,EAAwCG,EAAxCH,QAASM,EAA+BH,EAA/BG,QAASC,EAAsBJ,EAAtBI,QAAYC,EAD1BC,OAAAC,EAAA,EAAAD,CACoCN,EADpC,uDAE1BQ,EAAOnC,EAAY+B,GAEzB,OACEK,EAAAC,EAAAC,cAACC,EAAAF,EAADJ,OAAAO,OAAA,CACEX,UAAWY,IAAWb,EAAQG,GAAUF,GACxCa,mBAAiB,kBACjBlB,QACEY,EAAAC,EAAAC,cAAA,QAAMK,GAAG,kBAAkBd,UAAWD,EAAQJ,SAC5CY,EAAAC,EAAAC,cAACH,EAAD,CAAMN,UAAWY,IAAWb,EAAQX,KAAMW,EAAQT,eACjDK,GAGLoB,OAAQ,CACNR,EAAAC,EAAAC,cAACO,EAAAR,EAAD,CACES,IAAI,QACJC,aAAW,QACXC,MAAM,UACNnB,UAAWD,EAAQqB,MACnBC,QAASpB,GAETM,EAAAC,EAAAC,cAACa,EAAAd,EAAD,CAAWR,UAAWD,EAAQX,UAG9Be,kHCkBKvB,wBA9EA,SAAAC,GAAK,MAAK,CACvB0C,OAAQ,CACNC,OAAQ3C,EAAMY,QAAQC,MAExB+B,KAAM,CACJD,OAAQ3C,EAAMY,QAAQC,QAyEXd,CArEE,SAACkB,GAAU,IAClB4B,EAAsC5B,EAAtC4B,YAAaC,EAAyB7B,EAAzB6B,YAAa5B,EAAYD,EAAZC,QAC5B6B,EAAM,SAACpB,EAAGqB,GAAJ,OAAUrB,EAAIqB,GACtBC,EAAQ,EAHcC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAI1B,QAAAC,EAAAC,EAAmBV,EAAnBW,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAAgC,KAAvBU,EAAuBN,EAAAO,MAC9BZ,GAASW,EAAOE,OAAOC,OAAOhB,IALN,MAAAiB,GAAAb,GAAA,EAAAC,EAAAY,EAAA,YAAAd,GAAA,MAAAK,EAAAU,QAAAV,EAAAU,SAAA,WAAAd,EAAA,MAAAC,GAQ1B,IAAIc,EAAU,GACVC,GAAe,EACbC,EAAOvB,EAAYwB,IAAI,SAACT,EAAQU,GACpC,IAAMC,EAAcX,EAAOE,OAAOC,OAAOhB,GASzC,OARIwB,GAAeJ,IACbI,IAAgBJ,EAClBD,EAAQM,KAAKZ,EAAOa,OAEpBP,EAAU,CAACN,EAAOa,MAClBN,EAAcI,IAGX,CACLG,YAAaH,EAActB,EAAQ,KAAO0B,QAAQ,GAClDF,KAAMb,EAAOa,KACbG,WAAYL,EACZjC,MAAOsB,EAAOtB,MACdL,GAAIqC,KAIR,OAAQ5C,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMmD,WAAS,EAACC,QAAQ,UAChCrD,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,GAAI9D,UAAWD,EAAQ0B,MAClClB,EAAAC,EAAAC,cAACsD,EAAAvD,EAAD,CAAYN,QAAQ,KAAK8D,cAAY,EAACC,MAAO,CAAEC,UAAW,WAA1D,cACenB,EAAQoB,OAAS,EAAIpB,EAAQqB,KAAK,MAAQrB,EAAQ,GADjE,IACwEA,EAAQoB,OAAS,EAAI,OAAS,UAGtG5D,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,IACjBvD,EAAAC,EAAAC,cAAC4D,EAAA7D,EAAD,CAAO8D,QAAQ,SACb/D,EAAAC,EAAAC,cAAC8D,GAAA/D,EAAD,KACED,EAAAC,EAAAC,cAAC+D,GAAAhE,EAAD,KACED,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,aACAD,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAlB,eACAnE,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAlB,WACAnE,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAlB,WAGJnE,EAAAC,EAAAC,cAACkE,EAAAnE,EAAD,KACGyC,EAAKC,IAAI,SAAA0B,GACR,OACErE,EAAAC,EAAAC,cAAC+D,GAAAhE,EAAD,CAAUS,IAAK2D,EAAI9D,IACjBP,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWqE,UAAU,KAAKC,MAAM,OAC7BF,EAAItB,MAEP/C,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAEE,EAAInB,YACxBlD,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAEE,EAAIrB,YACxBhD,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWyD,MAAO,CAAEc,WAAYH,EAAIzD,eAO9CZ,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACVtD,EAAAC,EAAAC,cAACuE,EAAAxE,EAAD,CAAQN,QAAQ,YAAYiB,MAAM,UAAUnB,UAAWD,EAAQwB,OAAQF,QAASM,GAAhF,gBCnEEsD,8MAEJC,UAAY,WACV,IAAMC,EAAOC,SAAS3E,cAAc,KAC9B4E,EAASD,SAASE,eAAe,cACvCH,EAAKI,KAAOF,EAAOG,YACnBL,EAAKM,SAAW,YAChBN,EAAKO,iFAGE,IAAAC,EACgDC,KAAK9F,MAApD6B,EADDgE,EACChE,YAAa5B,EADd4F,EACc5F,QAAS8F,EADvBF,EACuBE,SAAUC,EADjCH,EACiCG,WACxC,OACEvF,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMmD,WAAS,EAACC,QAAQ,SAAS5D,UAAWD,EAAQ0B,MAClDlB,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,IACbvD,EAAAC,EAAAC,cAACsD,EAAAvD,EAAD,CAAYN,QAAQ,KAAK8D,cAAY,EAACC,MAAO,CAAEC,UAAW,WAA1D,SACS2B,EADT,WAIDA,EAAW,GAAKC,EACjBvF,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAACuE,EAAAxE,EAAD,CAAQN,QAAQ,YAAYiB,MAAM,UAAUnB,UAAWD,EAAQwB,OAAQF,QAASM,GAAhF,eAGQ,KACTkE,EAAW,EAAIC,EAChBvF,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAACuE,EAAAxE,EAAD,CAAQN,QAAQ,YAAYiB,MAAM,UAAUnB,UAAWD,EAAQwB,OAAQF,QAASM,GAAhF,SAGQ,KACVpB,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAACuE,EAAAxE,EAAD,CAAQN,QAAQ,YAAYiB,MAAM,UAAUnB,UAAWD,EAAQwB,OAAQF,QAASuE,KAAKV,WAArF,uBAhCca,IAAMC,WAyCfpH,wBAlDA,SAAAC,GAAK,MAAK,CACvB0C,OAAQ,CACNC,OAAQ3C,EAAMY,QAAQC,MAExB+B,KAAM,CACJD,OAAQ3C,EAAMY,QAAQC,QA6CXd,CAAmBqG,ICMnBgB,GAvDI,SAACnG,GAAU,IACpB6C,EAAmC7C,EAAnC6C,OAAQjB,EAA2B5B,EAA3B4B,YAAawE,EAAcpG,EAAdoG,UACzBpE,EAAQ,EAFgBC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAG5B,QAAAC,EAAAC,EAAkBO,EAAlBN,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAA0B,KAAjBoE,EAAiBhE,EAAAO,MACxBZ,GAASqE,GAJiB,MAAAtD,GAAAb,GAAA,EAAAC,EAAAY,EAAA,YAAAd,GAAA,MAAAK,EAAAU,QAAAV,EAAAU,SAAA,WAAAd,EAAA,MAAAC,GAM5B,IAAMmE,EAAczD,EAAOO,IAAI,SAAAmD,GAC7B,OAAc,IAAVvE,EAAoB,GACVuE,EAAIvE,EAAS,KAAK0B,QAAQ,KAGpCP,EAAOvB,EAAYwB,IAAI,SAACT,EAAQU,GACpC,MAAO,CACLG,KAAMb,EAAOa,KACbnC,MAAOsB,EAAOtB,MACdgF,MAAOxD,EAAOQ,GACdmD,gBAAiB7D,EAAO6D,gBACxBC,gBAAiBL,EAAYzD,EAAO+D,aACpCjD,WAAY6C,EAAYjD,GACxBrC,GAAIqC,KAIR,OACE5C,EAAAC,EAAAC,cAAC4D,EAAA7D,EAAD,CAAO8D,QAAQ,SACb/D,EAAAC,EAAAC,cAAC8D,GAAA/D,EAAD,KACED,EAAAC,EAAAC,cAAC+D,GAAAhE,EAAD,KACED,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,aACAD,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAlB,SACAnE,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAlB,eACAnE,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAlB,eACAnE,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAlB,KACAnE,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAlB,WAGJnE,EAAAC,EAAAC,cAACkE,EAAAnE,EAAD,KACGyC,EAAKC,IAAI,SAAA0B,GACR,OACErE,EAAAC,EAAAC,cAAC+D,GAAAhE,EAAD,CAAUS,IAAK2D,EAAI9D,GAAI2F,SAAU7B,EAAI9D,KAAOhB,EAAM4G,eAChDnG,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWqE,UAAU,KAAKC,MAAM,OAC7BF,EAAItB,MAEP/C,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAEE,EAAIuB,OACxB5F,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAEE,EAAI0B,iBACxB/F,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAEE,EAAI2B,iBACxBhG,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWkE,SAAO,GAAEE,EAAIrB,YACxBhD,EAAAC,EAAAC,cAACgE,EAAAjE,EAAD,CAAWyD,MAAO,CAAEc,WAAYH,EAAIzD,eCrD5CwF,GAAS,CAAC,MAAO,OAAQ,QAAS,SAAU,SAAU,SAAU,SAAU,QAAS,QAEnFC,GAAW,CACb,CAAC,IAAK,EAAG,GACT,CAAC,EAAG,EAAG,KACP,CAAC,EAAG,IAAK,GACT,CAAC,IAAK,IAAK,GACX,CAAC,IAAK,IAAK,GACX,CAAC,IAAK,EAAG,KACT,CAAC,IAAK,IAAK,KACX,CAAC,IAAK,IAAK,GACX,CAAC,EAAG,IAAK,MAGPC,GAAa,SAACC,EAAIC,EAAIC,EAAYC,GAAY,IAAAlF,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAChD,QAAAC,EAAAC,EAAkB4E,EAAlB3E,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAA8B,KAArBmF,EAAqB/E,EAAAO,MAClByE,EAASD,EAATC,EAAGC,EAAMF,EAANE,EAEX,GADaC,KAAKC,IAAIR,EAAKK,EAAG,GAAKE,KAAKC,IAAIP,EAAKK,EAAG,GACzCC,KAAKC,IAAIL,EAAS,GAAI,OAAO,GAJI,MAAApE,GAAAb,GAAA,EAAAC,EAAAY,EAAA,YAAAd,GAAA,MAAAK,EAAAU,QAAAV,EAAAU,SAAA,WAAAd,EAAA,MAAAC,GAMhD,OAAO,GAGLsF,GAAiB,SAACC,EAAOC,EAAQT,EAAYlB,GAG/C,IAFA,IAAI4B,EAAS,GACT/E,EAAS,GACJQ,EAAI,EAAGA,EAAI2C,EAAY3C,IAAKR,EAAOU,KAAK,GACjD,IAAK,IAAI8D,EAAI,EAAGA,EAAIK,EAAOL,GAAK,EAAG,CAC/BO,EAAOrE,KAAK,IACZ,IAAK,IAAI+D,EAAI,EAAGA,EAAIK,EAAQL,GAAK,EAAG,CAEhC,IADA,IAAIO,EAAa,GACRxE,EAAI,EAAGA,EAAI2C,EAAY3C,IAAKwE,EAAWtE,KAAK,GAFrB,IAAAuE,GAAA,EAAAC,GAAA,EAAAC,OAAA5F,EAAA,IAGhC,QAAA6F,EAAAC,EAAkBhB,EAAlB3E,OAAAC,cAAAsF,GAAAG,EAAAC,EAAAzF,QAAAC,MAAAoF,GAAA,EAA8B,KAArBV,EAAqBa,EAAArF,MACpBuF,EAAiBf,EAAMgB,QAAUb,KAAKC,IAAIJ,EAAMC,EAAIA,EAAG,GAAKE,KAAKC,IAAIJ,EAAME,EAAIA,EAAG,IACxFO,EAAWT,EAAMiB,YAAcF,GALH,MAAApF,GAAAgF,GAAA,EAAAC,EAAAjF,EAAA,YAAA+E,GAAA,MAAAI,EAAAlF,QAAAkF,EAAAlF,SAAA,WAAA+E,EAAA,MAAAC,GAOhC,IAAMM,EAAef,KAAKgB,IAALC,MAAAjB,KAAYM,GACZ,IAAjBS,GACAV,EAAOP,GAAGC,GAAKO,EAAWY,QAAQH,GAClCzF,EAAO+E,EAAOP,GAAGC,KAAO,GAExBM,EAAOP,GAAGC,IAAM,GAI5B,MAAO,CAAEM,SAAQ/E,WCnBf6F,eAEJ,SAAAA,EAAY1I,GAAO,IAAA2I,EAAA,OAAArI,OAAAsI,EAAA,EAAAtI,CAAAwF,KAAA4C,IACjBC,EAAArI,OAAAuI,EAAA,EAAAvI,CAAAwF,KAAAxF,OAAAwI,EAAA,EAAAxI,CAAAoI,GAAAK,KAAAjD,KAAM9F,KA+ER6B,YAAc,SAACmH,GACb,IAAIC,EAAON,EAAKpD,OAAO2D,QAAQC,wBACzB9B,EAAI2B,EAAMI,QAAUH,EAAKI,KACzB/B,EAAI0B,EAAMM,QAAUL,EAAKM,IAC3BZ,EAAK3I,MAAMwJ,mBAAmBb,EAAK3I,MAAMwJ,kBAAkBnC,EAAGC,IApFjDqB,EAuFnBc,YAAc,SAACT,GACb,IAAKL,EAAK3I,MAAMwJ,kBAAmB,OAAO,EADnB,IAAA3D,EAEwB8C,EAAK3I,MAA5C4G,EAFef,EAEfe,cAAeM,EAFArB,EAEAqB,WAAYC,EAFZtB,EAEYsB,QAE7BuC,EAAMf,EAAKgB,YAAYT,QAAQU,WAAW,MAChDjB,EAAKkB,YAAYH,GAEjB,IAAIT,EAAON,EAAKgB,YAAYT,QAAQC,wBAC9B9B,EAAI2B,EAAMI,QAAUH,EAAKI,KACzB/B,EAAI0B,EAAMM,QAAUL,EAAKM,IACzBO,EAAU/C,GAAWM,EAAGC,EAAGJ,EAAYC,GACvC4C,EAAIjD,GAASF,GAAe,GAC5BoD,EAAIlD,GAASF,GAAe,GAC5B7E,EAAI+E,GAASF,GAAe,GAClC8C,EAAIO,YACJP,EAAIQ,IAAI7C,EAAGC,EAAG,EAAG,EAAG,EAAIC,KAAK4C,IAAI,GAC7BL,IACFJ,EAAIU,UAAJ,OAAAC,OAAuBN,EAAvB,MAAAM,OAA6BL,EAA7B,MAAAK,OAAmCtI,EAAnC,QACA2H,EAAIY,OACJZ,EAAIa,UAAY,EAChBb,EAAIc,YAAc,UAClBd,EAAIe,WA1GN9B,EAAKpD,OAASU,IAAMyE,YACpB/B,EAAKgB,YAAc1D,IAAMyE,YAHR/B,mFAOC,IAAAgC,EACuB7E,KAAK9F,MAAtCkH,EADUyD,EACVzD,WAAYU,EADF+C,EACE/C,OAAQgD,EADVD,EACUC,SACtBlB,EAAM5D,KAAKP,OAAO2D,QAAQU,WAAW,MAC3C9D,KAAK+D,YAAYH,GACjB5D,KAAK+E,UAAUnB,EAAK9B,GACpB9B,KAAKgF,WAAWpB,EAAKxC,EAAY0D,gDAGd,IAAAG,EACsBjF,KAAK9F,MAAtCkH,EADW6D,EACX7D,WAAYU,EADDmD,EACCnD,OAAQgD,EADTG,EACSH,SACtBlB,EAAM5D,KAAKP,OAAO2D,QAAQU,WAAW,MACrCoB,EAAMlF,KAAK6D,YAAYT,QAAQU,WAAW,MAChD9D,KAAK+D,YAAYH,GACjB5D,KAAK+D,YAAYmB,GACjBlF,KAAK+E,UAAUnB,EAAK9B,GACpB9B,KAAKgF,WAAWpB,EAAKxC,EAAY0D,iDAGbK,GACpB,OAAIA,EAAU/D,aAAepB,KAAK9F,MAAMkH,+CAO9BwC,GACVA,EAAIwB,UAAU,EAAG,EAAG,IAAK,wCAGhBxB,EAAKxC,EAAY0D,GAE1B,IADA,IACS7I,EAAI,EAAGA,EAAImF,EAAW7C,OAAQtC,GAAK,EAAG,KAAAoJ,EACjBjE,EAAWnF,GAA/BsF,EADqC8D,EACrC9D,EAAGC,EADkC6D,EAClC7D,EAAGe,EAD+B8C,EAC/B9C,UACdqB,EAAIO,YACJP,EAAIQ,IAAI7C,EAAGC,EAJE,EAIS,EAAG,EAAIC,KAAK4C,IAAI,GACtCT,EAAIU,UAAYvD,GAAOwB,GACvBqB,EAAIY,OACJZ,EAAIa,UAAY,EAChBb,EAAIc,YAAc,UAClBd,EAAIe,SAEN,GAAIG,EAAU,CACJvD,EAAoBuD,EAApBvD,EAAGC,EAAiBsD,EAAjBtD,EAAGe,EAAcuC,EAAdvC,UACdqB,EAAIO,YACJP,EAAIQ,IAAI7C,EAAGC,EAdE,EAcS,EAAG,EAAIC,KAAK4C,IAAI,GACtCT,EAAIU,UAAYvD,GAAOwB,GACvBqB,EAAIY,OACJZ,EAAIa,UAAY,EAChBb,EAAIc,YAAc,UAClBd,EAAIe,4CAIEf,EAAK9B,GAGb,IAFA,IAAMwD,EAAY1B,EAAI2B,aAAa,EAAG,EAAG,IAAK,KACtCC,EAASF,EAATE,KACChE,EAAI,EAAGA,EAAI,IAAKA,GAAK,EAC5B,IAAK,IAAID,EAAI,EAAGA,EAAI,IAAKA,GAAK,EAAG,CAC/B,IAAMkE,EAAwB,GAAX,IAAJjE,EAAUD,GACnBmE,EAAQ5D,EAAOP,GAAGC,GACxB,GAAIkE,GAAS,EAAG,CAEd,IADA,IAAMC,EAAY3E,GAAS0E,GAClBnI,EAAI,EAAGA,EAAI,EAAGA,GAAK,EAC1BiI,EAAKC,EAAQlI,GAAKoI,EAAUpI,GAE9BiI,EAAKC,EAAQ,GAAK,KAIxB7B,EAAIgC,aAAaN,EAAW,EAAG,oCAmCxB,IAAAO,EAAA7F,KACC7F,EAAY6F,KAAK9F,MAAjBC,QACR,OACEQ,EAAAC,EAAAC,cAAA,OAAKT,UAAWD,EAAQ2L,WACtBnL,EAAAC,EAAAC,cAAA,UACEK,GAAG,aACHd,UAAWD,EAAQ4L,QACnBlE,OAAQ,IACRD,MAAO,IACPoE,IAAKhG,KAAKP,SAEZ9E,EAAAC,EAAAC,cAAA,UACET,UAAWD,EAAQ8L,QACnBpE,OAAQ,IACRD,MAAO,IACPoE,IAAKhG,KAAK6D,YACVpI,QAAS,SAACgF,GAAD,OAAOoF,EAAK9J,YAAY0E,IACjCyF,YAAa,SAACzF,GAAD,OAAOoF,EAAKlC,YAAYlD,cAnI3BN,IAAMC,WA0IXpH,wBA/JA,iBAAO,CACpB8M,UAAW,CACTK,SAAU,WACVvE,MAAO,QACPC,OAAQ,QACRjG,OAAQ,QAEVqK,QAAS,CACPG,OAAQ,2BACRD,SAAU,WACV1C,IAAK,MACLF,KAAM,MACN8C,OAAQ,GAEVN,QAAS,CACPK,OAAQ,2BACRD,SAAU,WACVE,OAAQ,KA8IGrN,CAAmB4J,qDCnJ5B0D,eAEJ,SAAAA,EAAYpM,GAAO,IAAA2I,EAAA,OAAArI,OAAAsI,EAAA,EAAAtI,CAAAwF,KAAAsG,IACjBzD,EAAArI,OAAAuI,EAAA,EAAAvI,CAAAwF,KAAAxF,OAAAwI,EAAA,EAAAxI,CAAA8L,GAAArD,KAAAjD,KAAM9F,KAaRqM,aAAe,SAAA7I,GAAI,OAAI,SAAAwF,GAAS,IAAAsD,EACxBxC,EAAUnB,EAAK4D,cAALjM,OAAAkM,GAAA,EAAAlM,CAAA,GACbkD,EAAOwF,EAAMyD,OAAO7J,QAEnB8J,GAAY,EACH,eAATlJ,EACFkJ,EAAW,mBACO,cAATlJ,EACTkJ,EAAW,kBACO,YAATlJ,EACTkJ,EAAW,gBACO,YAATlJ,IACTkJ,EAAW,iBAEb/D,EAAKgE,UAALL,EAAA,GAAAhM,OAAAkM,GAAA,EAAAlM,CAAAgM,EACG9I,EAAOwF,EAAMyD,OAAO7J,OADvBtC,OAAAkM,GAAA,EAAAlM,CAAAgM,EAEGI,EAAW5C,EAAQ4C,IAFtBJ,MA5BiB3D,EAkCnBiE,aAAe,WAAM,IAAAC,EACyDlE,EAAK4D,cAAc5D,EAAKmE,OAA5FC,EADWF,EACXE,iBAAkBC,EADPH,EACOG,gBAAiBC,EADxBJ,EACwBI,cAAeC,EADvCL,EACuCK,cAC1D,GAAIH,GAAoBC,GAAmBC,GAAiBC,EAC1DvE,EAAKgE,SAAS,CACZI,mBAAkBC,kBAAiBC,gBAAeC,sBAE/C,KAAAC,EAC6CxE,EAAKmE,MAAjD9G,EADDmH,EACCnH,WAAYI,EADb+G,EACa/G,UAAWgH,EADxBD,EACwBC,QAASjG,EADjCgG,EACiChG,QAKhCkG,EAAa,CACjBrH,WALFA,EAAasH,SAAStH,GAKRI,UAJdA,EAAYkH,SAASlH,GAIIgH,QAHzBA,EAAUE,SAASF,GAGejG,QAFlCA,EAAUmG,SAASnG,IAInBwB,EAAK3I,MAAM4M,aAAaS,KAjDT1E,EAqDnB4D,cAAgB,SAACO,GAAU,IACjB9G,EAA4C8G,EAA5C9G,WAAYI,EAAgC0G,EAAhC1G,UAAWgH,EAAqBN,EAArBM,QAASjG,EAAY2F,EAAZ3F,QAClCoG,EAAOD,SAAStH,GAChBwH,EAASF,SAASlH,GAClBqH,EAAQH,SAASF,GACjBM,EAAQJ,SAASnG,GAKvB,MAAO,CACL4F,iBALuBY,MAAMJ,KAAUK,OAAOC,UAAUN,IAASA,GAAQ,EAKvDP,gBAJIW,MAAMH,KAAYI,OAAOC,UAAUL,IAAWA,EAAS,EAI1CP,cAHfU,MAAMF,KAAWG,OAAOC,UAAUJ,IAAUA,GAAS,EAGvBP,cAF9BS,MAAMD,IAAUA,EAAQ,IA5D9C/E,EAAKmE,MAAQ,CACX9G,WAAY,EACZI,UAAW,EACXgH,QAAS,IACTjG,QAAS,GACT4F,kBAAkB,EAClBC,iBAAiB,EACjBC,eAAe,EACfC,eAAe,GAVAvE,wEAoEV,IAAAgD,EAAA7F,KAAAgI,EAC8GhI,KAAKgH,MAAlH9G,EADD8H,EACC9H,WAAYoH,EADbU,EACaV,QAAShH,EADtB0H,EACsB1H,UAAWe,EADjC2G,EACiC3G,QAAS+F,EAD1CY,EAC0CZ,cAAeH,EADzDe,EACyDf,iBAAkBE,EAD3Ea,EAC2Eb,cAAeD,EAD1Fc,EAC0Fd,gBACzF/M,EAAY6F,KAAK9F,MAAjBC,QAER,OAAOQ,EAAAC,EAAAC,cAACoN,GAAArN,EAAD,CAAOR,UAAWD,EAAQ+N,KAAMC,UAAW,GAChDxN,EAAAC,EAAAC,cAACsD,EAAAvD,EAAD,CAAYN,QAAQ,KAAK2E,UAAU,MAAnC,gBAGAtE,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMmD,WAAS,EAACqK,UAAU,SAASpK,QAAQ,SAAS/D,WAAW,SAASJ,QAAS,GAC/Ec,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,IACbvD,EAAAC,EAAAC,cAACwN,GAAAzN,EAAD,CACE0N,MAAM,oBACNxL,MAAOoD,EACPqI,SAAUvI,KAAKuG,aAAa,cAC5B3K,OAAO,SACPtB,QAAQ,WACR1B,MAAOqO,KAGXtM,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,IACbvD,EAAAC,EAAAC,cAACwN,GAAAzN,EAAD,CACE0N,MAAM,+BACNxL,MAAOwK,EACPiB,SAAUvI,KAAKuG,aAAa,WAC5B3K,OAAO,SACPtB,QAAQ,WACR1B,MAAOuO,KAGXxM,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,IACbvD,EAAAC,EAAAC,cAACwN,GAAAzN,EAAD,CACE0N,MAAM,wBACNxL,MAAOwD,EACPiI,SAAUvI,KAAKuG,aAAa,aAC5B3K,OAAO,SACPtB,QAAQ,WACR1B,MAAOsO,KAGXvM,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,IACbvD,EAAAC,EAAAC,cAACwN,GAAAzN,EAAD,CACE0N,MAAM,mBACNxL,MAAOuE,EACPkH,SAAUvI,KAAKuG,aAAa,WAC5B3K,OAAO,SACPtB,QAAQ,WACR1B,MAAOwO,KAGXzM,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,IACbvD,EAAAC,EAAAC,cAACuE,EAAAxE,EAAD,CAAQN,QAAQ,YAAYiB,MAAM,UAAUE,QAAS,kBAAMoK,EAAKiB,iBAAhE,oBAxHc3G,IAAMC,WAiIfpH,wBA1IA,SAAAC,GAAK,MAAK,CACvBiP,KAAK1N,OAAAgO,EAAA,EAAAhO,CAAA,GACAvB,EAAMwP,OAAOC,UADd,CAEFC,WAAiC,EAArB1P,EAAMY,QAAQC,KAC1B8O,cAAoC,EAArB3P,EAAMY,QAAQC,KAC7BwE,UAAW,aAqIAtF,CAAmBsN,ICrGnBtN,wBArCA,SAAAC,GAAK,MAAK,CACvBiP,KAAK1N,OAAAgO,EAAA,EAAAhO,CAAA,GACAvB,EAAMwP,OAAOC,UADd,CAEFC,WAAiC,EAArB1P,EAAMY,QAAQC,KAC1B8O,cAAoC,EAArB3P,EAAMY,QAAQC,KAC7BwE,UAAW,aAgCAtF,CA5BI,SAACkB,GAAU,IAEpB4B,EAAyB5B,EAAzB4B,YAAa3B,EAAYD,EAAZC,QACrB,OAAOQ,EAAAC,EAAAC,cAACoN,GAAArN,EAAD,CAAOuN,UAAW,EAAG/N,UAAWD,EAAQ+N,MAC7CvN,EAAAC,EAAAC,cAACsD,EAAAvD,EAAD,CAAYN,QAAQ,KAAK2E,UAAU,MAAnC,gBAGAtE,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMmD,WAAS,EAACqK,UAAU,SAASpK,QAAQ,SAAS/D,WAAW,SAASJ,QAAS,GAC9EiC,EAAYwB,IAAI,SAACT,EAAQU,GAAT,OACf5C,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAAC5C,IAAK,aAAekC,GAC7B5C,EAAAC,EAAAC,cAACwN,GAAAzN,EAAD,CACE0N,MAAM,eACNxL,MAAOD,EAAOa,KACd6K,SAAUrO,EAAMqM,aAAahJ,GAC7B3B,OAAO,SACPtB,QAAQ,gBAIdK,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAACuE,EAAAxE,EAAD,CAAQN,QAAQ,YAAYiB,MAAM,UAAUE,QAASvB,EAAM4M,cAA3D,2EC5BR,SAAS+B,GAAW3O,GAClB,OAAOS,EAAAC,EAAAC,cAACiO,GAAAlO,EAADJ,OAAAO,OAAA,CAAOqN,UAAU,MAASlO,IAGnC,IAiBM6O,GAAO,SAAC7O,GAAD,OAAWS,EAAAC,EAAAC,cAACsD,EAAAvD,EAADJ,OAAAO,OAAA,CAAYT,QAAQ,SAAYJ,GAAQA,EAAM8O,WAChEC,GAAQ,SAAC/O,GAAD,OAAWS,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACqO,GAAShP,EAAQA,EAAM8O,YAyHtChQ,wBA3IA,SAAAC,GAAK,MAAK,CACvBiP,KAAK1N,OAAAgO,EAAA,EAAAhO,CAAA,GACAvB,EAAMwP,OAAOC,UADd,CAEFS,UAAWlQ,EAAMY,QAAQC,OAE3BsP,UAAW,CACTxH,MAAO,MACPhG,OAAQ,SACR5B,QAAS,SAEXqP,YAAa,CACXzH,MAAO,MACPhG,OAAQ,SACR5B,QAAS,WA8HEhB,CAvHG,SAACkB,GAAU,IAEnBC,EAAYD,EAAZC,QAER,OACEQ,EAAAC,EAAAC,cAACyO,GAAA1O,EAAD,CACE2O,KAAMrP,EAAMqP,KACZlP,QAASH,EAAMsP,YACfC,OAAO,QACPC,kBAAgB,sBAChBC,oBAAqBd,IAErBlO,EAAAC,EAAAC,cAAC+O,GAAAhP,EAAD,KACED,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMmD,WAAS,EAACC,QAAQ,SAASoK,UAAU,MAAMvO,QAAS,GAAIO,UAAWD,EAAQ+N,MAC/EvN,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAACqO,GAAD,CAAM5O,QAAQ,KAAKuP,WAAS,GAA5B,sBAEFlP,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAACqO,GAAD,CAAM5O,QAAQ,KAAKuP,WAAS,GAA5B,aACAlP,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACqO,GAAD,CAAMW,WAAS,GAAf,4PAOFlP,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAAA,OAAKiP,IAAI,mBAAmBC,IAAI,QAAQ3P,UAAWD,EAAQiP,aAE7DzO,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAACqO,GAAD,CAAM5O,QAAQ,KAAKuP,WAAS,GAA5B,oBACAlP,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACqO,GAAD,CAAMW,WAAS,GAAf,kEAGAlP,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACmP,GAAD,sFAGArP,EAAAC,EAAAC,cAACmP,GAAD,0GAGArP,EAAAC,EAAAC,cAACmP,GAAD,gGAGArP,EAAAC,EAAAC,cAACmP,GAAD,gHAGArP,EAAAC,EAAAC,cAACmP,GAAD,0IAIArP,EAAAC,EAAAC,cAACmP,GAAD,+GAKFrP,EAAAC,EAAAC,cAACqO,GAAD,+DACAvO,EAAAC,EAAAC,cAACqO,GAAD,CAAMW,WAAS,GAAf,+FAIFlP,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAAA,OAAKiP,IAAI,qBAAqBC,IAAI,UAAU3P,UAAWD,EAAQiP,aAEjEzO,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAACqO,GAAD,CAAM5O,QAAQ,KAAKuP,WAAS,GAA5B,kBACAlP,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACmP,GAAD,yGAGArP,EAAAC,EAAAC,cAACmP,GAAD,kGAGArP,EAAAC,EAAAC,cAACmP,GAAD,+FAKJrP,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAAA,OAAKiP,IAAI,sBAAsBC,IAAI,WAAW3P,UAAWD,EAAQkP,eAEnE1O,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAACqO,GAAD,CAAM5O,QAAQ,KAAKuP,WAAS,GAA5B,qBACAlP,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACqO,GAAD,CAAMW,WAAS,GAAf,uFAGAlP,EAAAC,EAAAC,cAACqO,GAAD,CAAMW,WAAS,GAAf,+CACAlP,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACmP,GAAD,+FAIArP,EAAAC,EAAAC,cAACmP,GAAD,qDAGArP,EAAAC,EAAAC,cAACmP,GAAD,qEAIFrP,EAAAC,EAAAC,cAACqO,GAAD,CAAMW,WAAS,GAAf,qGAKFlP,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,GACRtD,EAAAC,EAAAC,cAACuE,EAAAxE,EAAD,CAAQa,QAASvB,EAAMsP,YAAajO,MAAM,UAAUjB,QAAQ,aAA5D,gFCnDG2P,eAjFb,SAAAA,EAAY/P,GAAO,IAAA2I,EAAA,OAAArI,OAAAsI,EAAA,EAAAtI,CAAAwF,KAAAiK,IACjBpH,EAAArI,OAAAuI,EAAA,EAAAvI,CAAAwF,KAAAxF,OAAAwI,EAAA,EAAAxI,CAAAyP,GAAAhH,KAAAjD,KAAM9F,KAgBRqM,aAAe,SAAA7I,GAAI,OAAI,SAAAwF,GAAS,IACtBgH,EAAoBrH,EAAK4D,cAAcvD,EAAMyD,OAAO7J,OAApDoN,gBACRrH,EAAKgE,SAALrM,OAAAkM,GAAA,EAAAlM,CAAA,CACE0P,gBAAiBA,GAChBxM,EAAOwF,EAAMyD,OAAO7J,UArBN+F,EAyBnB4D,cAAgB,SAAC0D,GACVA,IACHA,EAAiBtH,EAAKmE,MAAMmD,gBAFI,IAG1BzJ,EAAoBmC,EAAK3I,MAAM4G,cAA/BJ,gBACF0J,EAAU5C,SAAS2C,GAEzB,MAAO,CACLD,gBAFsBrC,MAAMuC,KAAatC,OAAOC,UAAUqC,IAAYA,EAAU1J,GAAmB0J,GAAW,IA9B/FvH,EAoCnBiE,aAAe,WAAM,IACXoD,EAAoBrH,EAAK4D,gBAAzByD,gBACR,GAAIA,EACFrH,EAAKgE,SAAS,CACZqD,wBAEG,KACCC,EAAmBtH,EAAKmE,MAAxBmD,eACNA,EAAiB3C,SAAS2C,GAC1BtH,EAAK3I,MAAMsP,YAAYW,KA3CzBtH,EAAKmE,MAAQ,CACXmD,eAAgB,KAChBD,iBAAiB,GAJFrH,kFAQAwH,GACbrK,KAAK9F,MAAM4G,gBAAkBuJ,EAAUvJ,eACzCd,KAAK6G,SAAS,CACZsD,eAAgB,KAChBD,iBAAiB,qCAqCd,IAAArE,EAAA7F,KACP,OACErF,EAAAC,EAAAC,cAACyO,GAAA1O,EAAD,CACE2O,KAAMvJ,KAAK9F,MAAMqP,KACjBE,OAAO,QACPC,kBAAgB,uBAEhB/O,EAAAC,EAAAC,cAACyP,GAAA1P,EAAD,CAAaM,GAAG,uBAAhB,oBACAP,EAAAC,EAAAC,cAAC+O,GAAAhP,EAAD,KACED,EAAAC,EAAAC,cAAC0P,GAAA3P,EAAD,+BAGAD,EAAAC,EAAAC,cAACwN,GAAAzN,EAAD,CACE0N,MAAM,SACNC,SAAUvI,KAAKuG,aAAa,kBAC5B3K,OAAO,SACPtB,QAAQ,WACR1B,MAAOoH,KAAKgH,MAAMkD,mBAGtBvP,EAAAC,EAAAC,cAAC2P,GAAA5P,EAAD,KACED,EAAAC,EAAAC,cAACuE,EAAAxE,EAAD,CAAQa,QAASuE,KAAK9F,MAAMuQ,aAAclP,MAAM,WAAhD,UAGAZ,EAAAC,EAAAC,cAACuE,EAAAxE,EAAD,CAAQa,QAAS,kBAAMoK,EAAKiB,gBAAgBvL,MAAM,WAAlD,mBA1EgB4E,IAAMC,WCkUjBsK,eAlSb,SAAAA,IAAc,IAAA7H,EAAA,OAAArI,OAAAsI,EAAA,EAAAtI,CAAAwF,KAAA0K,IACZ7H,EAAArI,OAAAuI,EAAA,EAAAvI,CAAAwF,KAAAxF,OAAAwI,EAAA,EAAAxI,CAAAkQ,GAAAzH,KAAAjD,QArBF2K,aAAe,CACbC,MAAO,gBACP1K,WAAY,EACZI,UAAW,EACXe,QAAS,GACTvF,YAAa,GACbwL,QAAS,IACTuD,WAAW,EACX5K,SAAU,GAYE4C,EATdiI,aAAe,CACb1J,WAAY,GACZ2J,gBAAgB,EAChBC,mBAAmB,EACnBlK,cAAe,EACfgE,SAAU,KACVmG,WAAW,GAGCpI,EAQdqI,gBAAkB,SAAC3N,EAAG+J,GACpB,MAAO,CACL5J,KAAM,WAAaH,EAAI,GACvBhC,MAAOwF,GAAOxD,GACdmD,gBAAiB4G,EACjB1G,aAAc,EACd7D,OAAQ,KAdE8F,EAkBdsI,eAAiB,SAAC5J,EAAGC,EAAGc,EAAQ8I,GAC9B,MAAO,CACL7J,IACAC,IACAc,SACAC,UAAW6I,IAvBDvI,EA2BdiE,aAAe,SAACS,GACd,IAAI8D,EAAWxI,EAAKmE,MAAM4D,MAC1B,GAAiB,kBAAbS,EAA8B,CAChCA,EAAW,cAEX,IADA,IAAIC,EAAa,GACR/N,EAAI,EAAGA,EAAIgK,EAAWrH,WAAY3C,IACzC+N,EAAW7N,KAAKoF,EAAKqI,gBAAgB3N,EAAGgK,EAAWD,UAErDzE,EAAKgE,SAALrM,OAAAgO,EAAA,EAAAhO,CAAA,GACK+M,EADL,CAEEzL,YAAawP,EACbV,MAAOS,SAEa,gBAAbA,IACTA,EAAW,gBACXxI,EAAKgE,SAAS,CACZ/F,cAAe,EACf8J,MAAOS,EACPR,WAAW,MA7CHhI,EAkDd0I,mBAAqB,SAACH,GAAD,OAAS,SAAClI,GAC7B,IAAIoI,EAAU9Q,OAAAgR,EAAA,EAAAhR,CAAOqI,EAAKmE,MAAMlL,aAChCwP,EAAWF,GAAK1N,KAAOwF,EAAMyD,OAAO7J,MACpC+F,EAAKgE,SAAS,CACZ/K,YAAawP,MAtDHzI,EA0Dda,kBAAoB,SAACnC,EAAGC,GACtBqB,EAAK4I,iBAAiBlK,EAAGC,EAAGqB,EAAKmE,MAAMlG,gBA3D3B+B,EA8Dd4I,iBAAmB,SAAClK,EAAGC,EAAGe,GAAc,IAAA8E,EACNxE,EAAKmE,MAA7B5F,EAD8BiG,EAC9BjG,WAAYC,EADkBgG,EAClBhG,QACJJ,GAAWM,EAAGC,EAAGJ,EAAYC,GAM3CwB,EAAKgE,SAAS,CACZmE,mBAAmB,EACnBlG,SAAU,CAAEvD,IAAGC,IAAGe,eANpBM,EAAKgE,SAAS,CACZoE,WAAW,KAnEHpI,EA6Ed6I,eAAiB,SAAC5K,EAAehF,GAE/B,IAF+C,IAAAkM,EACbnF,EAAKmE,MAA/B9G,EADuC8H,EACvC9H,WAAYI,EAD2B0H,EAC3B1H,UACX/C,EAAI,EAAGA,GAAK2C,EAAY3C,GAAK,EAAG,CACvC,IAAMoO,GAAa7K,EAAgBvD,GAAK2C,EACxC,GAAIpE,EAAY6P,GAAWjL,gBAAkB,GAAK5E,EAAY6P,GAAW/K,aAAe,GAAKN,EAC3F,OAAOqL,EAGX,OAAQ,GArFI9I,EAwFd+I,sBAAwB,SAACtJ,GAAW,IAAAuJ,EAC2BhJ,EAAKmE,MAA1D5F,EAD0ByK,EAC1BzK,WAAY0D,EADc+G,EACd/G,SAAUhE,EADI+K,EACJ/K,cAAehF,EADX+P,EACW/P,YACrCyF,EAAoBuD,EAApBvD,EAAGC,EAAiBsD,EAAjBtD,EAAGe,EAAcuC,EAAdvC,UACVuJ,EAAStR,OAAAgR,EAAA,EAAAhR,CAAO4G,GACpB0K,EAAUrO,KAAKoF,EAAKsI,eAAe5J,EAAGC,EAAGc,EAAQC,IACjD,IAAI+I,EAAU9Q,OAAAgR,EAAA,EAAAhR,CAAOsB,GACrBwP,EAAW/I,GAAW7B,iBAAmB4B,EACzCgJ,EAAW/I,GAAW3B,cAAgB,EACtC,IAAMmL,EAAalJ,EAAK6I,eAAe5K,EAAewK,IAClC,IAAhBS,EACFlJ,EAAKgE,SAAS,CACZzF,WAAY0K,EACZd,mBAAmB,EACnBlP,YAAawP,EACbxK,eAAgB,EAChB8J,MAAO,aACP9F,SAAU,OAGZjC,EAAKgE,SAAS,CACZmE,mBAAmB,EACnB5J,WAAY0K,EACZhL,cAAeiL,EACfjQ,YAAawP,EACbxG,SAAU,QAhHFjC,EAqHdmJ,sBAAwB,WACtBC,QAAQC,IAAI,qCACZrJ,EAAKgE,SAAS,CACZmE,mBAAmB,EACnBlG,SAAU,QAzHAjC,EA6HdsJ,eAAiB,WACftJ,EAAKgE,SAAS,CAAEkE,gBAAgB,KA9HpBlI,EAiIduJ,cAAgB,WAAM,IAAAC,EACWxJ,EAAKmE,MAA5B4D,EADYyB,EACZzB,MAAO9O,EADKuQ,EACLvQ,YACf,OAAQ8O,GACN,IAAK,gBACH,OAAOjQ,EAAAC,EAAAC,cAACyR,GAAD,CACLxF,aAAcjE,EAAKiE,eAEvB,IAAK,cACL,QACE,OAAOnM,EAAAC,EAAAC,cAAC0R,GAAD,CACLzQ,YAAaA,EACbyK,aAAc1D,EAAK0I,mBACnBzE,aAAcjE,EAAKiE,iBA7IbjE,EAkJd2J,UAAY,WACV3J,EAAKgE,SAALrM,OAAAgO,EAAA,EAAAhO,CAAA,GACKqI,EAAK8H,aACL9H,EAAKiI,gBArJEjI,EAyJd4J,WAAa,SAAC1P,GAGZ,IAHuB,IAAA2P,EACgC7J,EAAKmE,MAApDlL,EADe4Q,EACf5Q,YAAawL,EADEoF,EACFpF,QAASpH,EADPwM,EACOxM,WAAYD,EADnByM,EACmBzM,SACtCqL,EAAU9Q,OAAAgR,EAAA,EAAAhR,CAAOsB,GACZyB,EAAI,EAAGA,EAAI+N,EAAW/M,OAAQhB,GAAK,EAAG,CAC7C,IAAIV,EAASyO,EAAW/N,GACxBV,EAAO+D,aAAe,EACtB/D,EAAO6D,gBAAkB4G,EACzBzK,EAAOE,OAAOU,KAAKV,EAAOQ,IAE5B,IAAI8N,EAAW,gBACXpL,EAAW,IAAMC,GACnBmL,EAAW,YACXxI,EAAKgE,SAAS,CACZ+D,MAAOS,EACPvP,YAAawP,EACbrL,SAAUA,EAAW,EACrBa,cAAeb,EAAW,KAG5B4C,EAAKgE,SAALrM,OAAAgO,EAAA,EAAAhO,CAAA,GACKqI,EAAKiI,aADV,CAEEF,MAAOS,EACPvP,YAAawP,EACbrL,SAAUA,EAAW,EACrBa,cAAeb,EAAW,MAjLlB4C,EAsLd8J,iBAAmB,SAACzJ,EAAO0J,GACV,cAAXA,GAIJ/J,EAAKgE,SAAS,CAAEoE,WAAW,KA3LfpI,EA+LdgK,WAAa,WAAM,IAAAC,EAWbjK,EAAKmE,MATP5F,EAFe0L,EAEf1L,WACAtF,EAHegR,EAGfhR,YACAoE,EAJe4M,EAIf5M,WACAY,EALegM,EAKfhM,cACAgE,EANegI,EAMfhI,SACA8F,EAPekC,EAOflC,MACAtK,EARewM,EAQfxM,UACAe,EATeyL,EASfzL,QACApB,EAVe6M,EAUf7M,SAVe8M,EAYUpL,GAAe,IAAK,IAAKP,EAAYlB,GAAxDnD,EAZSgQ,EAYThQ,OAAQ+E,EAZCiL,EAYDjL,OAEhB,OAAQnH,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoS,SAAA,KACNrS,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,GAAI+O,GAAI,GAAIC,GAAI,GAC7BvS,EAAAC,EAAAC,cAACsS,GAAD,CACE/L,WAAYA,EACZU,OAAQA,EACR4B,kBAA6B,kBAAVkH,EAA4B/H,EAAKa,kBAAoB,KACxEoB,SAAUA,EACVhE,cAAeA,EACfO,QAASA,KAGb1G,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,GAAI+O,GAAI,GAAIC,GAAI,GAC7BvS,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMmD,WAAS,GACbpD,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,IACD,cAAV0M,EAAwBjQ,EAAAC,EAAAC,cAACuS,GAAD,CAAUrR,YAAa8G,EAAK2J,UAAW1Q,YAAaA,EAAauR,WAAYtQ,IACvGpC,EAAAC,EAAAC,cAACyS,GAAD,CAAYvQ,OAAQA,EAAQjB,YAAaA,EAAagF,cAAeA,EAAeR,UAAWA,KAEjG3F,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,IACD,eAAV0M,EAAyBjQ,EAAAC,EAAAC,cAAC0S,GAAD,CAAWrN,WAAYA,EAAYD,SAAUA,EAAW,EAAGlE,YAAa,kBAAM8G,EAAK4J,WAAW1P,MAAc,UA7N/I8F,EAAKmE,MAALxM,OAAAgO,EAAA,EAAAhO,CAAA,GACKqI,EAAKiI,aACLjI,EAAK8H,cAJE9H,2EAsOF+H,GACV,MAAc,kBAAVA,EACMjQ,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,GAAI+O,GAAI,EAAGC,GAAI,GAAIlN,KAAKoM,iBAC5B,gBAAVxB,EACDjQ,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,GAAI+O,GAAI,EAAGC,GAAI,GAAIlN,KAAKoM,iBAExCpM,KAAK6M,8CAIP,IAAAhH,EAAA7F,KAAAwN,EAQHxN,KAAKgH,MANP4D,EAFK4C,EAEL5C,MACAI,EAHKwC,EAGLxC,kBACAD,EAJKyC,EAILzC,eACAjP,EALK0R,EAKL1R,YACAgF,EANK0M,EAML1M,cACAO,EAPKmM,EAOLnM,QAGF,OACE1G,EAAAC,EAAAC,cAAA,OAAKT,UAAU,OACbO,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMmD,WAAS,EAAClE,QAAS,EAAGmE,QAAQ,UAClCrD,EAAAC,EAAAC,cAACiD,EAAAlD,EAAD,CAAMqD,MAAI,EAACC,GAAI,IACbvD,EAAAC,EAAAC,cAACsD,EAAAvD,EAAD,CAAYqE,UAAU,KAAK3E,QAAQ,KAAK+D,MAAO,CAAEC,UAAW,UAAYF,cAAY,GAApF,wBAEEzD,EAAAC,EAAAC,cAACO,EAAAR,EAAD,CAAYW,MAAM,UAAUD,aAAW,OAAOG,QAAS,kBAAMoK,EAAKgB,SAAS,CAAEkE,gBAAgB,MAC3FpQ,EAAAC,EAAAC,cAAC4S,EAAA7S,EAAD,SAILoF,KAAK0N,YAAY9C,IAEpBjQ,EAAAC,EAAAC,cAAC8S,GAAD,CAAWpE,KAAMwB,EAAgBvB,YAAaxJ,KAAKmM,iBACnDxR,EAAAC,EAAAC,cAAC+S,GAAD,CACErE,KAAMyB,EACNxB,YAAaxJ,KAAK4L,sBAClB9K,cAAehF,EAAYgF,GAC3B2J,aAAczK,KAAKgM,wBAErBrR,EAAAC,EAAAC,cAACgT,EAAAjT,EAAD,CACEkT,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdzE,KAAMvJ,KAAKgH,MAAMiE,UACjBgD,iBAAkB,IAClB5T,QAAS2F,KAAK2M,kBAEdhS,EAAAC,EAAAC,cAACqT,EAAD,CACE7T,QAAS2F,KAAKwJ,YACdlP,QAAQ,QACRP,QAAO,2BAAAwK,OAA6BlD,EAA7B,4BAhTDjB,aCPE+N,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCbNC,IAASC,OAAO9T,EAAAC,EAAAC,cAAC6T,GAAD,MAASlP,SAASE,eAAe,SD4H3C,kBAAmBiP,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.c3e11a89.chunk.js","sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport green from '@material-ui/core/colors/green';\nimport amber from '@material-ui/core/colors/amber';\nimport IconButton from '@material-ui/core/IconButton';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport WarningIcon from '@material-ui/icons/Warning';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst variantIcon = {\n  success: CheckCircleIcon,\n  warning: WarningIcon,\n  error: ErrorIcon,\n  info: InfoIcon,\n};\n\nconst styles = theme => ({\n  success: {\n    backgroundColor: green[600],\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark,\n  },\n  info: {\n    backgroundColor: theme.palette.primary.dark,\n  },\n  warning: {\n    backgroundColor: amber[700],\n  },\n  icon: {\n    fontSize: 20,\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing.unit,\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n});\n\nfunction MySnackbarContent(props) {\n  const { classes, className, message, onClose, variant, ...other } = props;\n  const Icon = variantIcon[variant];\n\n  return (\n    <SnackbarContent\n      className={classNames(classes[variant], className)}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <Icon className={classNames(classes.icon, classes.iconVariant)} />\n          {message}\n        </span>\n      }\n      action={[\n        <IconButton\n          key=\"close\"\n          aria-label=\"Close\"\n          color=\"inherit\"\n          className={classes.close}\n          onClick={onClose}\n        >\n          <CloseIcon className={classes.icon} />\n        </IconButton>,\n      ]}\n      {...other}\n    />\n  );\n}\n\nexport default withStyles(styles)(MySnackbarContent);","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst styles = theme => ({\n  button: {\n    margin: theme.spacing.unit,\n  },\n  grid: {\n    margin: theme.spacing.unit,\n  }\n});\n\nconst GameOver = (props) => {\n  const { playersList, handleClick, classes } = props;\n  const add = (a, b) => a + b\n  let total = 0;\n  for (let player of playersList) {\n    total += player.scores.reduce(add);\n  }\n\n  let winners = [];\n  let winnerScore = -1;\n  const rows = playersList.map((player, i) => {\n    const playerTotal = player.scores.reduce(add);\n    if (playerTotal >= winnerScore) {\n      if (playerTotal === winnerScore) {\n        winners.push(player.name);\n      } else {\n        winners = [player.name];\n        winnerScore = playerTotal;\n      }\n    }\n    return {\n      percentage: (playerTotal / total * 100.0).toFixed(2),\n      name: player.name,\n      totalScore: playerTotal,\n      color: player.color,\n      id: i,\n    };\n  });\n\n  return (<Grid container justify=\"center\">\n  <Grid item xs={12} className={classes.grid}>\n      <Typography variant=\"h5\" gutterBottom style={{ textAlign: \"center\" }}>\n        Game Over! { winners.length > 1 ? winners.join(', ') : winners[0] } { winners.length > 1 ? \"Win!\" : \"Wins!\" }\n      </Typography>\n      </Grid>\n      <Grid item xs={12}>\n    <Table padding=\"dense\">\n      <TableHead>\n        <TableRow>\n          <TableCell>Name</TableCell>\n          <TableCell numeric>Total Score</TableCell>\n          <TableCell numeric>Total %</TableCell>\n          <TableCell numeric>Color</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {rows.map(row => {\n          return (\n            <TableRow key={row.id}>\n              <TableCell component=\"th\" scope=\"row\">\n                {row.name}\n              </TableCell>\n              <TableCell numeric>{row.totalScore}</TableCell>\n              <TableCell numeric>{row.percentage}</TableCell>\n              <TableCell style={{ background: row.color }}></TableCell>\n            </TableRow>\n          );\n        })}\n      </TableBody>\n    </Table>\n    </Grid>\n    <Grid item>\n    <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={handleClick}>\n      New Game\n    </Button>\n    </Grid>\n  </Grid>);\n}\n\nexport default withStyles(styles)(GameOver);","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\nconst styles = theme => ({\n  button: {\n    margin: theme.spacing.unit,\n  },\n  grid: {\n    margin: theme.spacing.unit,\n  }\n});\n\nclass RoundOver extends React.Component {\n\n  saveBoard = () => {\n    const link = document.createElement('a');\n    const canvas = document.getElementById(\"physCanvas\");\n    link.href = canvas.toDataURL();\n    link.download = \"board.png\";\n    link.click();\n  }\n\n  render() {\n    const { handleClick, classes, roundNum, numPlayers } = this.props;\n    return (\n      <Grid container justify=\"center\" className={classes.grid}>\n        <Grid item xs={12}>\n          <Typography variant=\"h5\" gutterBottom style={{ textAlign: \"center\" }}>\n            Round {roundNum} Over!\n      </Typography>\n        </Grid>\n        {roundNum + 1 <= numPlayers ?\n        <Grid item>\n          <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={handleClick}>\n            Next Round\n        </Button>\n        </Grid> : null }\n        {roundNum + 1 > numPlayers ?\n        <Grid item>\n          <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={handleClick}>\n            Next\n        </Button>\n        </Grid> : null }\n        <Grid item>\n          <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={this.saveBoard}>\n            Save Board\n      </Button>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withStyles(styles)(RoundOver);","import React from 'react';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\n\nconst Scoreboard = (props) => {\n  const { scores, playersList, numStones } = props;\n  let total = 0;\n  for (let score of scores) {\n    total += score;\n  }\n  const percentages = scores.map(e => {\n    if (total === 0) return 0;\n    else return ((e / total) * 100).toFixed(2);\n  });\n\n  const rows = playersList.map((player, i) => {\n    return {\n      name: player.name,\n      color: player.color,\n      score: scores[i],\n      weightRemaining: player.weightRemaining,\n      stonesRemaining: numStones - player.piecesPlaced,\n      percentage: percentages[i],\n      id: i,\n    };\n  });\n\n  return (\n    <Table padding=\"dense\">\n      <TableHead>\n        <TableRow>\n          <TableCell>Name</TableCell>\n          <TableCell numeric>Score</TableCell>\n          <TableCell numeric>Weight Left</TableCell>\n          <TableCell numeric>Stones Left</TableCell>\n          <TableCell numeric>%</TableCell>\n          <TableCell numeric>Color</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {rows.map(row => {\n          return (\n            <TableRow key={row.id} selected={row.id === props.currentPlayer}>\n              <TableCell component=\"th\" scope=\"row\">\n                {row.name}\n              </TableCell>\n              <TableCell numeric>{row.score}</TableCell>\n              <TableCell numeric>{row.weightRemaining}</TableCell>\n              <TableCell numeric>{row.stonesRemaining}</TableCell>\n              <TableCell numeric>{row.percentage}</TableCell>\n              <TableCell style={{ background: row.color }}></TableCell>\n            </TableRow>\n          );\n        })}\n      </TableBody>\n    </Table>\n  );\n}\n\nexport default Scoreboard;","const colors = ['red', 'blue', 'green', 'orange', 'yellow', 'purple', 'silver', 'olive', 'teal'];\n\nconst colorRGB = [\n    [255, 0, 0],\n    [0, 0, 255],\n    [0, 255, 0],\n    [255, 165, 0],\n    [255, 255, 0],\n    [128, 0, 128],\n    [192, 192, 192],\n    [128, 128, 0],\n    [0, 128, 128],\n];\n\nconst checkValid = (nx, ny, piecesList, minDist) => {\n    for (let piece of piecesList) {\n        const { x, y } = piece;\n        const dist = Math.pow(nx - x, 2) + Math.pow(ny - y, 2);\n        if (dist < Math.pow(minDist, 2)) return false;\n    }\n    return true;\n}\n\nconst calculateBoard = (width, height, piecesList, numPlayers) => {\n    let owners = [];\n    let scores = [];\n    for (let i = 0; i < numPlayers; i++) scores.push(0);\n    for (let x = 0; x < width; x += 1) {\n        owners.push([]);\n        for (let y = 0; y < height; y += 1) {\n            let influences = [];\n            for (let i = 0; i < numPlayers; i++) influences.push(0);\n            for (let piece of piecesList) {\n                const pieceInfluence = piece.weight / (Math.pow(piece.x - x, 2) + Math.pow(piece.y - y, 2));\n                influences[piece.playerInd] += pieceInfluence;\n            }\n            const maxInfluence = Math.max(...influences);\n            if (maxInfluence !== 0) {\n                owners[x][y] = influences.indexOf(maxInfluence);\n                scores[owners[x][y]] += 1;\n            } else {\n                owners[x][y] = -1;\n            }\n        }\n    }\n    return { owners, scores };\n}\n\nexport { colors, colorRGB, checkValid, calculateBoard };","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { checkValid, colors, colorRGB } from './../utils';\n\n\nconst styles = () => ({\n  parentDiv: {\n    position: 'relative',\n    width: '500px',\n    height: '500px',\n    margin: 'auto',\n  },\n  hCanvas: {\n    border: \"1px solid hsl(0, 0%, 0%)\",\n    position: \"absolute\",\n    top: '0px',\n    left: '0px',\n    zIndex: 1\n  },\n  pCanvas: {\n    border: \"1px solid hsl(0, 0%, 0%)\",\n    position: \"relative\",\n    zIndex: 0\n  }\n});\n\nclass Board extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.canvas = React.createRef();\n    this.hoverCanvas = React.createRef();\n\n  }\n\n  componentDidMount() {\n    const { piecesList, owners, newPiece } = this.props;\n    const ctx = this.canvas.current.getContext('2d');\n    this.clearCanvas(ctx);\n    this.drawBoard(ctx, owners);\n    this.drawStones(ctx, piecesList, newPiece);\n  }\n\n  componentDidUpdate() {\n    const { piecesList, owners, newPiece } = this.props;\n    const ctx = this.canvas.current.getContext('2d');\n    const htx = this.hoverCanvas.current.getContext('2d');\n    this.clearCanvas(ctx);\n    this.clearCanvas(htx);\n    this.drawBoard(ctx, owners);\n    this.drawStones(ctx, piecesList, newPiece);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    if (nextProps.piecesList !== this.props.piecesList) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  clearCanvas(ctx) {\n    ctx.clearRect(0, 0, 500, 500);\n  }\n\n  drawStones(ctx, piecesList, newPiece) {\n    const radius = 5;\n    for (let b = 0; b < piecesList.length; b += 1) {\n      const { x, y, playerInd } = piecesList[b];\n      ctx.beginPath();\n      ctx.arc(x, y, radius, 0, 2 * Math.PI, false);\n      ctx.fillStyle = colors[playerInd];\n      ctx.fill();\n      ctx.lineWidth = 1;\n      ctx.strokeStyle = '#003300';\n      ctx.stroke();\n    }\n    if (newPiece) {\n      const { x, y, playerInd } = newPiece;\n      ctx.beginPath();\n      ctx.arc(x, y, radius, 0, 2 * Math.PI, false);\n      ctx.fillStyle = colors[playerInd];\n      ctx.fill();\n      ctx.lineWidth = 2;\n      ctx.strokeStyle = '#ffcc00';\n      ctx.stroke();\n    }\n  }\n\n  drawBoard(ctx, owners) {\n    const imageData = ctx.getImageData(0, 0, 500, 500);\n    const { data } = imageData;\n    for (let y = 0; y < 500; y += 1) {\n      for (let x = 0; x < 500; x += 1) {\n        const index = (y * 500 + x) * 4;\n        const owner = owners[x][y];\n        if (owner > -1) {\n          const gridColor = colorRGB[owner];\n          for (let i = 0; i < 3; i += 1) {\n            data[index + i] = gridColor[i];\n          }\n          data[index + 3] = 125;\n        }\n      }\n    }\n    ctx.putImageData(imageData, 0, 0);\n  }\n\n  handleClick = (event) => {\n    var rect = this.canvas.current.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n    if (this.props.handleCanvasClick) this.props.handleCanvasClick(x, y);\n  }\n\n  handleHover = (event) => {\n    if (!this.props.handleCanvasClick) return false;\n    const { currentPlayer, piecesList, minDist } = this.props;\n\n    const ctx = this.hoverCanvas.current.getContext('2d');\n    this.clearCanvas(ctx);\n\n    var rect = this.hoverCanvas.current.getBoundingClientRect();\n    const x = event.clientX - rect.left;\n    const y = event.clientY - rect.top;\n    const isValid = checkValid(x, y, piecesList, minDist);\n    const r = colorRGB[currentPlayer][0];\n    const g = colorRGB[currentPlayer][1];\n    const b = colorRGB[currentPlayer][2];\n    ctx.beginPath();\n    ctx.arc(x, y, 5, 0, 2 * Math.PI, false);\n    if (isValid) {\n      ctx.fillStyle = `rgb(${r}, ${g}, ${b}, 1)`;\n      ctx.fill();\n      ctx.lineWidth = 2;\n      ctx.strokeStyle = '#ffcc00';\n      ctx.stroke();\n    }\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.parentDiv}>\n        <canvas\n          id=\"physCanvas\"\n          className={classes.pCanvas}\n          height={500}\n          width={500}\n          ref={this.canvas}\n        />\n        <canvas\n          className={classes.hCanvas}\n          height={500}\n          width={500}\n          ref={this.hoverCanvas}\n          onClick={(e) => this.handleClick(e)}\n          onMouseMove={(e) => this.handleHover(e)}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(Board);\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  root: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing.unit * 2,\n    paddingBottom: theme.spacing.unit * 2,\n    textAlign: \"center\",\n  },\n});\n\nclass GameStart extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      numPlayers: 2,\n      numStones: 5,\n      gravPer: 1000,\n      minDist: 60,\n      showErrorPlayers: false,\n      showErrorStones: false,\n      showErrorGrav: false,\n      showErrorDist: false,\n    }\n  }\n\n  handleChange = name => event => {\n    const isValid = this.validateState({\n      [name]: event.target.value\n    });\n    let propName = -1;\n    if (name === 'numPlayers') {\n      propName = 'showErrorPlayers';\n    } else if (name === 'numStones') {\n      propName = 'showErrorStones';\n    } else if (name === 'gravPer') {\n      propName = 'showErrorGrav';\n    } else if (name === 'minDist') {\n      propName = 'showErrorDist';\n    }\n    this.setState({\n      [name]: event.target.value,\n      [propName]: isValid[propName],\n    });\n  }\n\n  handleSubmit = () => {\n    const { showErrorPlayers, showErrorStones, showErrorGrav, showErrorDist } = this.validateState(this.state);\n    if (showErrorPlayers || showErrorStones || showErrorGrav || showErrorDist) {\n      this.setState({\n        showErrorPlayers, showErrorStones, showErrorGrav, showErrorDist\n      });\n    } else {\n      let { numPlayers, numStones, gravPer, minDist } = this.state;\n      numPlayers = parseInt(numPlayers);\n      numStones = parseInt(numStones);\n      gravPer = parseInt(gravPer);\n      minDist = parseInt(minDist);\n      const newOptions = {\n        numPlayers, numStones, gravPer, minDist\n      }\n      this.props.handleSubmit(newOptions);\n    }\n  }\n\n  validateState = (state) => {\n    const { numPlayers, numStones, gravPer, minDist } = state;\n    const nNum = parseInt(numPlayers);\n    const nStone = parseInt(numStones);\n    const nGrav = parseInt(gravPer);\n    const nDist = parseInt(minDist);\n    const showErrorPlayers = isNaN(nNum) || !Number.isInteger(nNum) || nNum <= 1;\n    const showErrorStones = isNaN(nStone) || !Number.isInteger(nStone) || nStone < 1;\n    const showErrorGrav = isNaN(nGrav) || !Number.isInteger(nGrav) || nGrav <= 0;\n    const showErrorDist = isNaN(nDist) || nDist < 0;\n    return {\n      showErrorPlayers, showErrorStones, showErrorGrav, showErrorDist\n    };\n  }\n\n  render() {\n    const { numPlayers, gravPer, numStones, minDist, showErrorDist, showErrorPlayers, showErrorGrav, showErrorStones } = this.state;\n    const { classes } = this.props;\n\n    return <Paper className={classes.root} elevation={3}>\n      <Typography variant=\"h4\" component=\"h3\">\n        Game Options\n      </Typography>\n      <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\" spacing={8}>\n        <Grid item xs={12}>\n          <TextField\n            label=\"Number Of Players\"\n            value={numPlayers}\n            onChange={this.handleChange(\"numPlayers\")}\n            margin=\"normal\"\n            variant=\"outlined\"\n            error={showErrorPlayers}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            label=\"Available Gravity Per Player\"\n            value={gravPer}\n            onChange={this.handleChange(\"gravPer\")}\n            margin=\"normal\"\n            variant=\"outlined\"\n            error={showErrorGrav}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            label=\"Max Stones Per Player\"\n            value={numStones}\n            onChange={this.handleChange(\"numStones\")}\n            margin=\"normal\"\n            variant=\"outlined\"\n            error={showErrorStones}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            label=\"Minimum Distance\"\n            value={minDist}\n            onChange={this.handleChange(\"minDist\")}\n            margin=\"normal\"\n            variant=\"outlined\"\n            error={showErrorDist}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Button variant=\"contained\" color=\"primary\" onClick={() => this.handleSubmit()}>\n            Submit\n          </Button>\n        </Grid>\n      </Grid>\n    </Paper>\n  }\n}\n\nexport default withStyles(styles)(GameStart);","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  root: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing.unit * 2,\n    paddingBottom: theme.spacing.unit * 2,\n    textAlign: \"center\",\n  },\n});\n\nconst PlayerInfo = (props) => {\n\n  const { playersList, classes } = props;\n  return <Paper elevation={3} className={classes.root}>\n    <Typography variant=\"h4\" component=\"h3\">\n      Player Info:\n    </Typography>\n    <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\" spacing={8}>\n      {playersList.map((player, i) =>\n        <Grid item key={\"playerInfo\" + i}>\n          <TextField\n            label=\"Player Name:\"\n            value={player.name}\n            onChange={props.handleChange(i)}\n            margin=\"normal\"\n            variant=\"outlined\"\n          />\n        </Grid>\n      )}\n      <Grid item>\n        <Button variant=\"contained\" color=\"primary\" onClick={props.handleSubmit}>\n          Submit\n        </Button>\n      </Grid>\n    </Grid>\n  </Paper>\n}\n\nexport default withStyles(styles)(PlayerInfo);","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Slide from '@material-ui/core/Slide';\n\nfunction Transition(props) {\n  return <Slide direction=\"up\" {...props} />;\n}\n\nconst styles = theme => ({\n  root: {\n    ...theme.mixins.gutters(),\n    marginTop: theme.spacing.unit,\n  },\n  screenImg: {\n    width: '50%',\n    margin: '0 auto',\n    display: 'block',\n  },\n  gameoverImg: {\n    width: '80%',\n    margin: '0 auto',\n    display: 'block',\n  }\n});\n\nconst Text = (props) => <Typography variant=\"body1\" {...props}>{props.children}</Typography>\nconst LText = (props) => <li><Text {...props}>{props.children}</Text></li>\n\nconst HelpModal = (props) => {\n\n  const { classes } = props;\n\n  return (\n    <Dialog\n      open={props.open}\n      onClose={props.handleClose}\n      scroll=\"paper\"\n      aria-labelledby=\"scroll-dialog-title\"\n      TransitionComponent={Transition}\n    >\n      <DialogContent>\n        <Grid container justify=\"center\" direction=\"row\" spacing={16} className={classes.root}>\n          <Grid item>\n            <Text variant=\"h4\" paragraph>Rules of the Game</Text>\n          </Grid>\n          <Grid item>\n            <Text variant=\"h5\" paragraph>Overview:</Text>\n            <hr/>\n            <Text paragraph>\n              Given a set of point-sized stones of various colors,\n              a Gravitational Voronoi diagram is a tesselation of a plane into colored regions\n              such that every point with integer coordinates (x, y) has the color of the stones that\n              give it the greatest pull.\n            </Text>\n          </Grid>\n          <Grid item>\n            <img src=\"images/board.png\" alt=\"board\" className={classes.screenImg}/>\n          </Grid>\n          <Grid item>\n            <Text variant=\"h5\" paragraph>Playing a Round:</Text>\n            <hr/>\n            <Text paragraph>\n              Graviational Voronoi is a n player game that works as follows:\n            </Text>\n            <ul>\n              <LText>\n                n players are each assigned a color, and are each allocated W units of weight\n              </LText>\n              <LText>\n                Each player can distribute their allotted weight across a maximum of S stones on a 500x500 board.\n              </LText>\n              <LText>\n                The first player places one stone, then the second player places one stone and so on...\n              </LText>\n              <LText>\n                Each player places one stone until all players have placed S stones or have exhausted all their weight.\n              </LText>\n              <LText>\n                If a player cannot place a stone (either they have used all of their weight or placed all of their stones),\n                their turn is skipped\n              </LText>\n              <LText>\n                Additionally, every stone must be a Euclidean distance of at least d units\n                away from any other stone.\n              </LText>\n            </ul>\n            <Text>n, S, W, and d are set at the beginning of every game.</Text>\n            <Text paragraph>\n              The winner of a round is the player with the most controlled area at the end of the round.\n            </Text>\n          </Grid>\n          <Grid item>\n            <img src=\"images/options.png\" alt=\"options\" className={classes.screenImg}/>\n          </Grid>\n          <Grid item>\n            <Text variant=\"h5\" paragraph>Ending a Game:</Text>\n            <hr/>\n            <ul>\n              <LText>\n                If there are n players, the game runs for a total of n rounds, allowing each player to go first.\n              </LText>\n              <LText>\n                At the end of the game (after n rounds), each players' scores over all rounds are summed.\n              </LText>\n              <LText>\n                The player with the highest combined score over all n rounds is declared the winner!\n              </LText>\n            </ul>\n          </Grid>\n          <Grid item>\n            <img src=\"images/gameover.png\" alt=\"gameover\" className={classes.gameoverImg}/>\n          </Grid>\n          <Grid item>\n            <Text variant=\"h5\" paragraph>Pull Calculation:</Text>\n            <hr/>\n            <Text paragraph>\n              The pull for a color c at point p with coordinates (x, y) is calculated as follows:\n            </Text>\n            <Text paragraph>Supposing that color c has k stones placed:</Text>\n            <ul>\n              <LText>\n                Take all k stones and compute their Euclidean distances to point p\n                say d1, d2, ... dk.\n              </LText>\n              <LText>\n                Take the weights of all k stones w1, ..., wk\n              </LText>\n              <LText>\n                pull(c, p) = (w/(d1*d1)) + (w/(d2*d2)) + ... + (w/(dk*dk)).\n              </LText>\n            </ul>\n            <Text paragraph>\n              It's as if we're computing the color of a point based on the color that gives\n              the greatest pull.\n            </Text>\n          </Grid>\n          <Grid item>\n            <Button onClick={props.handleClose} color=\"primary\" variant=\"contained\">\n              Got It!\n            </Button>\n          </Grid>\n        </Grid>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport default withStyles(styles)(HelpModal);\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TextField from '@material-ui/core/TextField';\n\nclass WeightModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedWeight: null,\n      showErrorWeight: false,\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.currentPlayer !== prevProps.currentPlayer) {\n      this.setState({\n        selectedWeight: null,\n        showErrorWeight: false,\n      });\n    }\n  }\n\n  handleChange = name => event => {\n    const { showErrorWeight } = this.validateState(event.target.value);\n    this.setState({\n      showErrorWeight: showErrorWeight,\n      [name]: event.target.value,\n    });\n  };\n\n  validateState = (selectedWeight) => {\n    if (!selectedWeight)\n      selectedWeight = this.state.selectedWeight;\n    const { weightRemaining } = this.props.currentPlayer;\n    const nWeight = parseInt(selectedWeight);\n    const showErrorWeight = isNaN(nWeight) || !Number.isInteger(nWeight) || nWeight > weightRemaining || nWeight <= 0;\n    return {\n      showErrorWeight\n    };\n  }\n\n  handleSubmit = () => {\n    const { showErrorWeight } = this.validateState();\n    if (showErrorWeight) {\n      this.setState({\n        showErrorWeight\n      });\n    } else {\n      let { selectedWeight } = this.state;\n      selectedWeight = parseInt(selectedWeight);\n      this.props.handleClose(selectedWeight)\n    }\n  }\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.open}\n        scroll=\"paper\"\n        aria-labelledby=\"weight-dialog-title\"\n      >\n        <DialogTitle id=\"weight-dialog-title\">Weight Selection</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please Select a Weight\n          </DialogContentText>\n          <TextField\n            label=\"Weight\"\n            onChange={this.handleChange('selectedWeight')}\n            margin=\"normal\"\n            variant=\"outlined\"\n            error={this.state.showErrorWeight}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={this.props.handleCancel} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={() => this.handleSubmit()} color=\"primary\">\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\nexport default WeightModal;\n","import React, { Component } from 'react';\n\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport QuestionIcon from '@material-ui/icons/HelpOutline';\nimport Snackbar from '@material-ui/core/Snackbar';\n\nimport CustomSnackbar from './components/CustomSnackbar';\nimport GameOver from './components/GameOver';\nimport RoundOver from './components/RoundOver'\nimport Scoreboard from './components/Scoreboard';\nimport Board from './components/Board';\nimport GameStart from './components/GameStart';\nimport PlayerInfo from './components/PlayerInfo';\nimport HelpModal from './components/HelpModal';\nimport WeightSelectionModal from './components/WeightSelectionModal';\nimport { checkValid, colors, calculateBoard } from './utils';\n\nclass App extends Component {\n\n  initialState = {\n    stage: 'GAME_SETTINGS',\n    numPlayers: 2,\n    numStones: 5,\n    minDist: 60.0,\n    playersList: [],\n    gravPer: 1000,\n    isPlaying: false,\n    roundNum: 0,\n  }\n\n  initialRound = {\n    piecesList: [],\n    displayHelpBox: false,\n    showWeightOverlay: false,\n    currentPlayer: 0,\n    newPiece: null,\n    snackOpen: false,\n  }\n\n  constructor() {\n    super();\n    this.state = {\n      ...this.initialRound,\n      ...this.initialState\n    };\n  }\n\n  createNewPlayer = (i, gravPer) => {\n    return {\n      name: \"Player \" + (i + 1),\n      color: colors[i],\n      weightRemaining: gravPer,\n      piecesPlaced: 0,\n      scores: [],\n    }\n  }\n\n  createNewPiece = (x, y, weight, ind) => {\n    return {\n      x,\n      y,\n      weight,\n      playerInd: ind\n    }\n  }\n\n  handleSubmit = (newOptions) => {\n    let newStage = this.state.stage;\n    if (newStage === 'GAME_SETTINGS') {\n      newStage = 'PLAYER_LIST';\n      let newPlayers = [];\n      for (let i = 0; i < newOptions.numPlayers; i++) {\n        newPlayers.push(this.createNewPlayer(i, newOptions.gravPer));\n      }\n      this.setState({\n        ...newOptions,\n        playersList: newPlayers,\n        stage: newStage,\n      });\n    } else if (newStage === 'PLAYER_LIST') {\n      newStage = 'PLAYING_ROUND';\n      this.setState({\n        currentPlayer: 0,\n        stage: newStage,\n        isPlaying: true,\n      });\n    }\n  }\n\n  handlePlayerChange = (ind) => (event) => {\n    let newPlayers = [...this.state.playersList];\n    newPlayers[ind].name = event.target.value;\n    this.setState({\n      playersList: newPlayers,\n    });\n  }\n\n  handleCanvasClick = (x, y) => {\n    this.handleBoardClick(x, y, this.state.currentPlayer);\n  }\n\n  handleBoardClick = (x, y, playerInd) => {\n    const { piecesList, minDist } = this.state;\n    const isValid = checkValid(x, y, piecesList, minDist);\n    if (!isValid) {\n      this.setState({\n        snackOpen: true,\n      });\n    } else {\n      this.setState({\n        showWeightOverlay: true,\n        newPiece: { x, y, playerInd }\n      });\n    }\n  }\n\n  getValidPlayer = (currentPlayer, playersList) => {\n    const { numPlayers, numStones } = this.state;\n    for (let i = 1; i <= numPlayers; i += 1) {\n      const newPlayer = (currentPlayer + i) % numPlayers\n      if (playersList[newPlayer].weightRemaining > 0 && playersList[newPlayer].piecesPlaced + 1 <= numStones) {\n        return newPlayer;\n      }\n    }\n    return -1;\n  }\n\n  handleWeightSelection = (weight) => {\n    const { piecesList, newPiece, currentPlayer, playersList } = this.state;\n    const { x, y, playerInd } = newPiece;\n    let newPieces = [...piecesList];\n    newPieces.push(this.createNewPiece(x, y, weight, playerInd));\n    let newPlayers = [...playersList];\n    newPlayers[playerInd].weightRemaining -= weight;\n    newPlayers[playerInd].piecesPlaced += 1;\n    const nextPlayer = this.getValidPlayer(currentPlayer, newPlayers);\n    if (nextPlayer === -1) {\n      this.setState({\n        piecesList: newPieces,\n        showWeightOverlay: false,\n        playersList: newPlayers,\n        currentPlayer: -1,\n        stage: 'ROUND_OVER',\n        newPiece: null,\n      });\n    } else {\n      this.setState({\n        showWeightOverlay: false,\n        piecesList: newPieces,\n        currentPlayer: nextPlayer,\n        playersList: newPlayers,\n        newPiece: null,\n      });\n    }\n  }\n\n  cancelWeightSelection = () => {\n    console.log(\"canceled, should remove new piece\");\n    this.setState({\n      showWeightOverlay: false,\n      newPiece: null\n    });\n  }\n\n  closeHelpModal = () => {\n    this.setState({ displayHelpBox: false });\n  };\n\n  renderOverlay = () => {\n    const { stage, playersList } = this.state;\n    switch (stage) {\n      case 'GAME_SETTINGS':\n        return <GameStart\n          handleSubmit={this.handleSubmit}\n        />\n      case 'PLAYER_LIST':\n      default:\n        return <PlayerInfo\n          playersList={playersList}\n          handleChange={this.handlePlayerChange}\n          handleSubmit={this.handleSubmit}\n        />\n    }\n  }\n\n  resetGame = () => {\n    this.setState({\n      ...this.initialState,\n      ...this.initialRound,\n    });\n  }\n\n  resetRound = (scores) => {\n    const { playersList, gravPer, numPlayers, roundNum } = this.state;\n    let newPlayers = [...playersList];\n    for (let i = 0; i < newPlayers.length; i += 1) {\n      let player = newPlayers[i];\n      player.piecesPlaced = 0;\n      player.weightRemaining = gravPer;\n      player.scores.push(scores[i]);\n    }\n    let newStage = 'PLAYING_ROUND';\n    if (roundNum + 1 === numPlayers) {\n      newStage = 'GAME_OVER'\n      this.setState({\n        stage: newStage,\n        playersList: newPlayers,\n        roundNum: roundNum + 1,\n        currentPlayer: roundNum + 1,\n      });\n    } else {\n      this.setState({\n        ...this.initialRound,\n        stage: newStage,\n        playersList: newPlayers,\n        roundNum: roundNum + 1,\n        currentPlayer: roundNum + 1,\n      });\n    }\n  }\n\n  handleSnackClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    this.setState({ snackOpen: false });\n  };\n\n\n  renderGame = () => {\n    const {\n      piecesList,\n      playersList,\n      numPlayers,\n      currentPlayer,\n      newPiece,\n      stage,\n      numStones,\n      minDist,\n      roundNum,\n    } = this.state;\n    const { scores, owners } = calculateBoard(500, 500, piecesList, numPlayers);\n\n    return (<>\n      <Grid item xs={12} sm={12} md={6}>\n        <Board\n          piecesList={piecesList}\n          owners={owners}\n          handleCanvasClick={stage === 'PLAYING_ROUND' ? this.handleCanvasClick : null}\n          newPiece={newPiece}\n          currentPlayer={currentPlayer}\n          minDist={minDist}\n        />\n      </Grid>\n      <Grid item xs={12} sm={12} md={6}>\n        <Grid container>\n          <Grid item xs={12}>\n            { stage === 'GAME_OVER' ? <GameOver handleClick={this.resetGame} playersList={playersList} lastScores={scores} /> :\n            <Scoreboard scores={scores} playersList={playersList} currentPlayer={currentPlayer} numStones={numStones} /> }\n          </Grid>\n          <Grid item xs={12}>\n            { stage === 'ROUND_OVER' ? <RoundOver numPlayers={numPlayers} roundNum={roundNum + 1} handleClick={() => this.resetRound(scores)} /> : null }\n          </Grid>\n        </Grid>\n      </Grid>\n    </>);\n  }\n\n  renderScene(stage) {\n    if (stage === 'GAME_SETTINGS') {\n      return (<Grid item xs={10} sm={6} md={4}>{this.renderOverlay()}</Grid>);\n    } else if (stage === 'PLAYER_LIST') {\n      return (<Grid item xs={10} sm={6} md={4}>{this.renderOverlay()}</Grid>);\n    } else {\n      return this.renderGame();\n    }\n  }\n\n  render() {\n    const {\n      stage,\n      showWeightOverlay,\n      displayHelpBox,\n      playersList,\n      currentPlayer,\n      minDist,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Grid container spacing={8} justify=\"center\">\n          <Grid item xs={12}>\n            <Typography component=\"h3\" variant=\"h3\" style={{ textAlign: \"center\" }} gutterBottom>\n              Gravitational Voronoi\n              <IconButton color=\"primary\" aria-label=\"Help\" onClick={() => this.setState({ displayHelpBox: true})}>\n                <QuestionIcon />\n              </IconButton>\n            </Typography>\n          </Grid>\n          {this.renderScene(stage)}\n        </Grid>\n        <HelpModal open={displayHelpBox} handleClose={this.closeHelpModal} />\n        <WeightSelectionModal\n          open={showWeightOverlay}\n          handleClose={this.handleWeightSelection}\n          currentPlayer={playersList[currentPlayer]}\n          handleCancel={this.cancelWeightSelection}\n        />\n        <Snackbar\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'left',\n          }}\n          open={this.state.snackOpen}\n          autoHideDuration={3000}\n          onClose={this.handleSnackClose}\n        >\n          <CustomSnackbar\n            onClose={this.handleClose}\n            variant=\"error\"\n            message={`Stones must be at least ${minDist} units apart!`}\n          />\n        </Snackbar>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}